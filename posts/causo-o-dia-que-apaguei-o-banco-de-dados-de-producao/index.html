<!DOCTYPE html><html lang="en" mode="dark" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Causo - O dia que apaguei o banco de dados de produção | murilo.tech</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Causo - O dia que apaguei o banco de dados de produção" /><meta name="author" content="Murilo Costa" /><meta property="og:locale" content="en_US" /><meta name="description" content="Sei que o título desse post está bem sensacionalista, mas para saber se o fato realmente aconteceu será preciso ler todo o post. Será mesmo que eu apaguei o banco de dados de produção? Esse causo aconteceu quando ingressei como novato em uma empresa e, por já ter um pouco mais de experiência, decidi que alguns cuidados não precisavam ser levados tão a sério, o que me causou uma situação que poderia ter levado a um infarto pessoas um pouco mais cardíacas que eu rs. Vamos ao causo! O causo Depois de conseguir uma boa experiência com desenvolvimento de software e T.I. em geral eu decidi embarcar em uma oportunidade que julguei melhor na época, e então entrei em uma nova empresa para encarar um novo desafio profissional. Nessa empresa o ambiente era mais ou menos parecido com o que eu já conhecia, com equipes que, de forma técnica, desenvolviam o software da empresa e o gerenciavam, incluindo o gerenciamento dos servidores de produção, então uma vez dentro da equipe já tínhamos acesso a todos ambientes incluindo o banco de dados de produção. Eu já vi muitas pessoas dizendo que não é saudável e nem deveria ser permitido aos desenvolvedores acessarem o ambiente produtivo, pois este deveria ser controlado especificamente por uma equipe de operações e isso até faz algum sentido, porém raramente foi realidade nos lugares que trabalhei, o que sempre trouxe muita flexibilidade e facilidade para resoluções de problemas que muitas vezes só acontecem em produção, mas traz também uma enorme responsabilidade de saber que suas ações nesse ambiente podem trazer consequências diretas para o usuário e clientes, entretanto, no geral eu sempre soube lidar bem com isso. Logo na minha primeira semana de trabalho na empresa nova, me pediram para resolver um bug que estava acontecendo em uma das partes do software, que no caso era uma aplicação desktop que baixava informações (incluindo arquivos) de um servidor a partir de uma API web backend feita em Java. Ao verificar o problema, rapidamente consegui identificar que o problema estava na API e efetuei a correção no código, partindo então para o teste da correção com o intuito de ver se aquela mudança realmente tinha corrigido o problema. Para realizar os testes infelizmente não existiam nenhum tipo de testes automatizados, como testes unitários ou de integração, e também nesse caso em específico era complicado utilizar ferramentas para chamadas em API como o glorioso Postman pois algumas das chamadas não eram no padrão REST, assim fui aconselhado por outros colegas de trabalho a utilizar a própria aplicação desktop (cliente) para realizar o teste, bastando tê-la em minha máquina e apontá-la para a URL da minha própria máquina (localhost). Segui esse conselho e fui efetuar o teste utilizando a aplicação desktop, o que era realmente mais fácil pois esta aplicação já estava presente em minha máquina (a máquina que me foi designada não foi formatada previamente). Porém, ao abrir a aplicação percebi que ela estava com um pouco de ‘sujeira’, que eram dados antigos presentes ali e que poderiam me atrapalhar nos testes, por isso resolvi que era melhor limpar os dados atuais antes de continuar, para garantir que nenhum dado antigo possa causar uma situação inesperada e que não tenha nenhuma relação com o teste que precisava ser feito. Essa aplicação possuía uma espécie de base de dados local contendo informações utilizadas pelo usuário e ela funcionava off-line, onde os dados eram sincronizados com o servidor justamente a partir do backend que eu precisava testar, e era essa base de dados local que eu precisava apagar para proceder com o meu teste, porém eu não sabia como fazer isso. Conforme mencionei no início desse causo, essa era minha primeira semana na empresa e eu ainda não conhecia muita gente ali, e como eu entrei lá com uma certa experiência de trabalho, achei incômodo pedir ajuda para alguém na tarefa de limpar essa base de dados local da aplicação (olha o meu erro aparecendo rsrs), por isso decidi descobrir sozinho como fazer isso, e logo achei algo que poderia me ajudar. Dentro da pasta de instalação dessa aplicação existiam vários arquivos executáveis que pareciam ser usados para manutenção da aplicação, e um deles se chamava CleanDatabase.exe e neste exato momento me pareceu que minha busca tinha terminado, pois com certeza esse era um utilitário que apagaria essa base de dados local, onde logo fui abrindo-o. Este utilitário era bem simples e composto somente de uma tela bem com um botão de Start e uma mensagem bem grande escrita em vermelho dizendo que essa operação iria apagar todos os dados do banco de dados, algo que eu já esperava. Apesar de me parecer extremamente claro que essa ferramenta utilitária iria apagar os dados locais da aplicação (e eu tenho certeza de que isso ficou claro também para quem está lendo), antes de clicar no botão Start me passou um lampejo de pensamento indagando o seguinte: Será que essa base de dados local é realmente um banco de dados, como um MySQL por exemplo? Ou será um SQLite? Ou será um sistema de arquivos simples mesmo? Se for um banco de dados real, será que existe a chance desse utilitário estar com sua configuração apontada para um banco de dados em outro local que não minha máquina? Como, por exemplo, apontado para o banco de dados de produção? Apesar de serem questionamentos válidos, esse pensamento logo sumiu da minha cabeça pois isso não fazia sentido algum, e dado o cenário que me era apresentado essa possibilidade não existia, então não havia perigo algum de executar esse utilitário, apesar da minha consciência ter achado melhor consultar alguém no momento (o que infelizmente não fiz), e então acionei o botão de Start. E aqui começou a situação que quase me causou um infarto. O software começou a executar a limpeza e, para variar, não tinha nenhuma barra de progresso ou algo do tipo indicando a execução, somente uma mensagem piscando de Wait. Apesar de eu não saber ao certo qual era o tamanho dessa base de dados local, eu imaginei que por ser uma base local ela com certeza não seria muito pesada, então essa limpeza duraria somente alguns segundos, quem sabe no máximo um minuto e meio, por isso não me preparei nem um pouco para contar quanto tempo havia decorrido desde que acionei o botão de Start (e o utilitário também não exibia o tempo decorrido), por isso fiquei somente aguardando o processo terminar. Mas ele não terminava… Por demorar mais que os segundos que eu esperava, resolvi monitorar o tempo a partir do relógio do computador e partir desse momento vi que a execução já tinha ultrapassado os cinco minutos, o que indicava que a quantidade de dados sendo apagada era grande, e novamente tive aquele lampejo de pensamento: Será que existe a chance de este utilitário estar apagando dados do banco de dados de produção e por isso estar demorando mais que o normal? Mas logo espantei esse pensamento da cabeça e continuei no aguardo. Passados mais três minutos comecei a ficar incomodado com essa demora e resolvi encerrar o utilitário, e para a surpresa de zero pessoas o utilitário travou (valeu Windows 7!!!), e resolvi aguardar mais um pouco para ver se ele destravava sozinho. Nessa exato momento dei uma respirada e olhei por cima da minha baia (tempo de trabalho presencial) e vi alguns rostos aflitos e com cara de interrogação, o que achei bem estranho, e comecei a perceber que o colega de trabalho na baia ao lado estava soltando vários ‘carambas’, e resolvi perguntar o que estava acontecendo, onde ele me respondeu que precisava conectar no banco de dados de produção para ver uma informação e não estava conseguindo, o banco parecia estar offline. É claro que meu corpo gelou por inteiro nesse momento, pois aquele lampejo de pensamento voltou como uma bala. Essa situação poderia ser alguma coisa específica da máquina dele e então resolvi fazer um teste na minha, onde para minha infelicidade o mesmo problema ocorreu, o banco de dados de produção realmente parecia não estar mais respondendo. via GIPHY O pensamento pairou como um elefante na minha cabeça: Meu Deus!!! Fiz uma merd* gigante!!!. Então olhei para os lados e tive a sensação que todos no escritório estavam com cara de desespero e vi alguns também tentando conexão com o banco de dados de produção, mas sem sucesso, onde eu fiquei mais desesperado ainda, e resolvi fechar o utilitário na força bruta com o famoso CTRL + ALT + DEL, mas mesmo assim eu não conseguia fechar, aumentando consideravelmente a palpitação no peito. Nesse momento, apesar de parecer uma situação impossível, eu já tinha quase certeza de que eu havia cometido o maior erro da minha vida, pois realmente eu estava apagando o banco de dados de produção. No meu pensamento provavelmente aquele utilitário era para outros fins que não a limpeza da base de dados local da aplicação, e com certeza alguém no passado deixou ele configurado para apagar o banco de dados de produção, e eu, sem analisar previamente, acabei executando-o. Mas, assim como você deve estar pensando, isso parecia ser uma situação muito absurda, com certeza era somente uma coincidência que estava acontecendo, e por algum motivo não estávamos conseguindo acessar o banco de produção, mas poderia ser somente um problema interno e aplicação estaria funcionando normalmente para os clientes na internet (era uma aplicação de uso nacional). E nesse momento me lembrei que existiam painéis digitais bem atrás da minha estação de trabalho com informações de saúde dos softwares da empresa, incluindo a quantidade de usuários conectados no momento, e se as informações ali estivessem normais isso indicaria que estávamos somente tendo um problema interno e o banco não estava passando por nenhum problema, e então ao virar e visualizar o painel eu realmente quase tive um infarto, pois a quantidade de usuários ativos estava bem baixa e caindo de dez em dez, o que significava algum problema mesmo no software, mais especificamente usuários desconectando por falta de dados no banco de dados. Agora eu já não sabia mais o que fazer, não conseguia pensar nem raciocinar, só consegui puxar da tomada meu computador na esperança de que a limpeza do banco de dados pudesse rodar em alguma espécie de transação, então se a transação não fosse finalizada talvez os dados não fossem apagados por definitivo. Porém eu sabia que isso não ia adiantar, pois era fato que eu realmente tinha cometido um erro enorme, o maior da minha vida, e agora não tinha mais volta. Fiquei tão desesperado que já comecei a pensar em como faria para arranjar outro emprego, visto que por conta desse erro provavelmente eu seria demitido por justa causa. Fiquei realmente sem chão. Mas como eu sou uma pessoa de princípios, eu não podia ver aquela situação toda ocorrendo e não fazer absolutamente nada, eu precisava avisar alguém sobre o ocorrido e ver quais eram os próximos passos para nos recuperarmos do problema, pois o banco de dados possuía backup diário, e então teríamos que restaurar esse backup e fazer tudo voltar ao normal (quase normal, pois os dados recentes seriam perdidos nesse caso). Decidi comunicar a situação ao meu superior e fiquei um tempo bolando um discurso do que falar, e esse tempo me pareceu uma eternidade, até que resolvi criar coragem para ir até a estação de trabalho dele. Então tomei um grande gole de água para acalmar, me levantei e comecei a sair da baia, onde a cada passo dado parecia que eu estava carregando um peso de trezentos quilos nas pernas. Saindo da minha baia dei uma olhada de leve no meu colega ao lado e vi que ele estava com a ferramenta para gerenciamento de banco de dados aberta, e parecia estar conectado ao banco. Corri até ele e, como quem não quer nada, é claro rs, perguntei se ele tinha conseguido voltar a conectar, e para a minha surpresa a resposta foi sim!!! Sem pensar muito voltei voando para meu computador (que eu já tinha religado) e fui testar a conexão e estava tudo normal, consegui conectar normalmente, e logo já verifiquei os dados que eu sabia que seriam os mais recentes e estava tudo lá, tudo normal, não parecia ter acontecido nenhum problema, nenhuma limpeza, e ao olhar novamente no painel estava sendo exibida uma quantidade padrão de usuários conectados. via GIPHY Fiquei parado olhando para a tela do meu computador por pelo menos uns cinco minutos tentando entender o que aconteceu e então resolvi conversar com um outro colega que era mais velho de casa, onde falei que não estava conseguindo conectar no banco um pouco mais cedo e o painel estava mostrando zero usuários conectados, e perguntei se ele sabia o que tinha acontecido, onde ele disse: - Ah sim, ficou um tempinho fora mesmo, o prestador de serviços onde ficam nossos servidores anda tendo instabilidade, já aconteceram outras vezes, mas agora normalizou. Infelizmente eles raramente nos avisam dessas caídas repentinas. … Eu não sabia se ria ou se chorava com essa informação depois de todo o stress que passei, mas só o fato de ter a confirmação que o banco de dados de produção não foi apagado já foi o suficiente para eu ficar de ‘ressaca laboral’ no resto do dia, e comemorar o fato de não precisar procurar outro emprego rsrs, e assim se encerrou a maior coincidência que já aconteceu na minha vida profissional. Lições aprendidas Nesse causo só existiu uma lição aprendida, que é algo que eu já falei anteriormente nesse post aqui: Na dúvida, pergunte! Por mais que possa parecer incômodo, por mais que pareça ser algo simples e por mais que as consequências possam ser muito pequenas, se você está em dúvida sobre alguma coisa, vá e peça a informação, tire essa dúvida para ter a certeza de que você está fazendo a coisa certa e fique livre de suposições caso algo dê errado, que foi exatamente o que aconteceu comigo. Apesar de essa ter sido uma coincidência terrível, existem vários casos onde desenvolvemos ferramentas utilitárias para realizar manutenções em banco de dados, arquivos, serviços etc, que não são possíveis de se realizar manualmente, onde primeiro testamos em nossa máquina para depois alterar a configuração e apontar para o servidor de produção, e se algum desavisado executa esse utilitário sem obter informações precisas, pode acabar transformando a coincidência por qual eu passei em realidade, por isso sempre devemos buscar essa informações. Inclusive, para finalizar a história, após o ocorrido eu fui até um colega e perguntei como limpar essa base de dados local da aplicação e ele me mostrou que ela é composta somente por uma pasta contendo vários arquivos, e bastava apagá-la para limpar essa base. Se eu soubesse disso antes com certeza não teria quase infartado nesse dia. Até a próxima!" /><meta property="og:description" content="Sei que o título desse post está bem sensacionalista, mas para saber se o fato realmente aconteceu será preciso ler todo o post. Será mesmo que eu apaguei o banco de dados de produção? Esse causo aconteceu quando ingressei como novato em uma empresa e, por já ter um pouco mais de experiência, decidi que alguns cuidados não precisavam ser levados tão a sério, o que me causou uma situação que poderia ter levado a um infarto pessoas um pouco mais cardíacas que eu rs. Vamos ao causo! O causo Depois de conseguir uma boa experiência com desenvolvimento de software e T.I. em geral eu decidi embarcar em uma oportunidade que julguei melhor na época, e então entrei em uma nova empresa para encarar um novo desafio profissional. Nessa empresa o ambiente era mais ou menos parecido com o que eu já conhecia, com equipes que, de forma técnica, desenvolviam o software da empresa e o gerenciavam, incluindo o gerenciamento dos servidores de produção, então uma vez dentro da equipe já tínhamos acesso a todos ambientes incluindo o banco de dados de produção. Eu já vi muitas pessoas dizendo que não é saudável e nem deveria ser permitido aos desenvolvedores acessarem o ambiente produtivo, pois este deveria ser controlado especificamente por uma equipe de operações e isso até faz algum sentido, porém raramente foi realidade nos lugares que trabalhei, o que sempre trouxe muita flexibilidade e facilidade para resoluções de problemas que muitas vezes só acontecem em produção, mas traz também uma enorme responsabilidade de saber que suas ações nesse ambiente podem trazer consequências diretas para o usuário e clientes, entretanto, no geral eu sempre soube lidar bem com isso. Logo na minha primeira semana de trabalho na empresa nova, me pediram para resolver um bug que estava acontecendo em uma das partes do software, que no caso era uma aplicação desktop que baixava informações (incluindo arquivos) de um servidor a partir de uma API web backend feita em Java. Ao verificar o problema, rapidamente consegui identificar que o problema estava na API e efetuei a correção no código, partindo então para o teste da correção com o intuito de ver se aquela mudança realmente tinha corrigido o problema. Para realizar os testes infelizmente não existiam nenhum tipo de testes automatizados, como testes unitários ou de integração, e também nesse caso em específico era complicado utilizar ferramentas para chamadas em API como o glorioso Postman pois algumas das chamadas não eram no padrão REST, assim fui aconselhado por outros colegas de trabalho a utilizar a própria aplicação desktop (cliente) para realizar o teste, bastando tê-la em minha máquina e apontá-la para a URL da minha própria máquina (localhost). Segui esse conselho e fui efetuar o teste utilizando a aplicação desktop, o que era realmente mais fácil pois esta aplicação já estava presente em minha máquina (a máquina que me foi designada não foi formatada previamente). Porém, ao abrir a aplicação percebi que ela estava com um pouco de ‘sujeira’, que eram dados antigos presentes ali e que poderiam me atrapalhar nos testes, por isso resolvi que era melhor limpar os dados atuais antes de continuar, para garantir que nenhum dado antigo possa causar uma situação inesperada e que não tenha nenhuma relação com o teste que precisava ser feito. Essa aplicação possuía uma espécie de base de dados local contendo informações utilizadas pelo usuário e ela funcionava off-line, onde os dados eram sincronizados com o servidor justamente a partir do backend que eu precisava testar, e era essa base de dados local que eu precisava apagar para proceder com o meu teste, porém eu não sabia como fazer isso. Conforme mencionei no início desse causo, essa era minha primeira semana na empresa e eu ainda não conhecia muita gente ali, e como eu entrei lá com uma certa experiência de trabalho, achei incômodo pedir ajuda para alguém na tarefa de limpar essa base de dados local da aplicação (olha o meu erro aparecendo rsrs), por isso decidi descobrir sozinho como fazer isso, e logo achei algo que poderia me ajudar. Dentro da pasta de instalação dessa aplicação existiam vários arquivos executáveis que pareciam ser usados para manutenção da aplicação, e um deles se chamava CleanDatabase.exe e neste exato momento me pareceu que minha busca tinha terminado, pois com certeza esse era um utilitário que apagaria essa base de dados local, onde logo fui abrindo-o. Este utilitário era bem simples e composto somente de uma tela bem com um botão de Start e uma mensagem bem grande escrita em vermelho dizendo que essa operação iria apagar todos os dados do banco de dados, algo que eu já esperava. Apesar de me parecer extremamente claro que essa ferramenta utilitária iria apagar os dados locais da aplicação (e eu tenho certeza de que isso ficou claro também para quem está lendo), antes de clicar no botão Start me passou um lampejo de pensamento indagando o seguinte: Será que essa base de dados local é realmente um banco de dados, como um MySQL por exemplo? Ou será um SQLite? Ou será um sistema de arquivos simples mesmo? Se for um banco de dados real, será que existe a chance desse utilitário estar com sua configuração apontada para um banco de dados em outro local que não minha máquina? Como, por exemplo, apontado para o banco de dados de produção? Apesar de serem questionamentos válidos, esse pensamento logo sumiu da minha cabeça pois isso não fazia sentido algum, e dado o cenário que me era apresentado essa possibilidade não existia, então não havia perigo algum de executar esse utilitário, apesar da minha consciência ter achado melhor consultar alguém no momento (o que infelizmente não fiz), e então acionei o botão de Start. E aqui começou a situação que quase me causou um infarto. O software começou a executar a limpeza e, para variar, não tinha nenhuma barra de progresso ou algo do tipo indicando a execução, somente uma mensagem piscando de Wait. Apesar de eu não saber ao certo qual era o tamanho dessa base de dados local, eu imaginei que por ser uma base local ela com certeza não seria muito pesada, então essa limpeza duraria somente alguns segundos, quem sabe no máximo um minuto e meio, por isso não me preparei nem um pouco para contar quanto tempo havia decorrido desde que acionei o botão de Start (e o utilitário também não exibia o tempo decorrido), por isso fiquei somente aguardando o processo terminar. Mas ele não terminava… Por demorar mais que os segundos que eu esperava, resolvi monitorar o tempo a partir do relógio do computador e partir desse momento vi que a execução já tinha ultrapassado os cinco minutos, o que indicava que a quantidade de dados sendo apagada era grande, e novamente tive aquele lampejo de pensamento: Será que existe a chance de este utilitário estar apagando dados do banco de dados de produção e por isso estar demorando mais que o normal? Mas logo espantei esse pensamento da cabeça e continuei no aguardo. Passados mais três minutos comecei a ficar incomodado com essa demora e resolvi encerrar o utilitário, e para a surpresa de zero pessoas o utilitário travou (valeu Windows 7!!!), e resolvi aguardar mais um pouco para ver se ele destravava sozinho. Nessa exato momento dei uma respirada e olhei por cima da minha baia (tempo de trabalho presencial) e vi alguns rostos aflitos e com cara de interrogação, o que achei bem estranho, e comecei a perceber que o colega de trabalho na baia ao lado estava soltando vários ‘carambas’, e resolvi perguntar o que estava acontecendo, onde ele me respondeu que precisava conectar no banco de dados de produção para ver uma informação e não estava conseguindo, o banco parecia estar offline. É claro que meu corpo gelou por inteiro nesse momento, pois aquele lampejo de pensamento voltou como uma bala. Essa situação poderia ser alguma coisa específica da máquina dele e então resolvi fazer um teste na minha, onde para minha infelicidade o mesmo problema ocorreu, o banco de dados de produção realmente parecia não estar mais respondendo. via GIPHY O pensamento pairou como um elefante na minha cabeça: Meu Deus!!! Fiz uma merd* gigante!!!. Então olhei para os lados e tive a sensação que todos no escritório estavam com cara de desespero e vi alguns também tentando conexão com o banco de dados de produção, mas sem sucesso, onde eu fiquei mais desesperado ainda, e resolvi fechar o utilitário na força bruta com o famoso CTRL + ALT + DEL, mas mesmo assim eu não conseguia fechar, aumentando consideravelmente a palpitação no peito. Nesse momento, apesar de parecer uma situação impossível, eu já tinha quase certeza de que eu havia cometido o maior erro da minha vida, pois realmente eu estava apagando o banco de dados de produção. No meu pensamento provavelmente aquele utilitário era para outros fins que não a limpeza da base de dados local da aplicação, e com certeza alguém no passado deixou ele configurado para apagar o banco de dados de produção, e eu, sem analisar previamente, acabei executando-o. Mas, assim como você deve estar pensando, isso parecia ser uma situação muito absurda, com certeza era somente uma coincidência que estava acontecendo, e por algum motivo não estávamos conseguindo acessar o banco de produção, mas poderia ser somente um problema interno e aplicação estaria funcionando normalmente para os clientes na internet (era uma aplicação de uso nacional). E nesse momento me lembrei que existiam painéis digitais bem atrás da minha estação de trabalho com informações de saúde dos softwares da empresa, incluindo a quantidade de usuários conectados no momento, e se as informações ali estivessem normais isso indicaria que estávamos somente tendo um problema interno e o banco não estava passando por nenhum problema, e então ao virar e visualizar o painel eu realmente quase tive um infarto, pois a quantidade de usuários ativos estava bem baixa e caindo de dez em dez, o que significava algum problema mesmo no software, mais especificamente usuários desconectando por falta de dados no banco de dados. Agora eu já não sabia mais o que fazer, não conseguia pensar nem raciocinar, só consegui puxar da tomada meu computador na esperança de que a limpeza do banco de dados pudesse rodar em alguma espécie de transação, então se a transação não fosse finalizada talvez os dados não fossem apagados por definitivo. Porém eu sabia que isso não ia adiantar, pois era fato que eu realmente tinha cometido um erro enorme, o maior da minha vida, e agora não tinha mais volta. Fiquei tão desesperado que já comecei a pensar em como faria para arranjar outro emprego, visto que por conta desse erro provavelmente eu seria demitido por justa causa. Fiquei realmente sem chão. Mas como eu sou uma pessoa de princípios, eu não podia ver aquela situação toda ocorrendo e não fazer absolutamente nada, eu precisava avisar alguém sobre o ocorrido e ver quais eram os próximos passos para nos recuperarmos do problema, pois o banco de dados possuía backup diário, e então teríamos que restaurar esse backup e fazer tudo voltar ao normal (quase normal, pois os dados recentes seriam perdidos nesse caso). Decidi comunicar a situação ao meu superior e fiquei um tempo bolando um discurso do que falar, e esse tempo me pareceu uma eternidade, até que resolvi criar coragem para ir até a estação de trabalho dele. Então tomei um grande gole de água para acalmar, me levantei e comecei a sair da baia, onde a cada passo dado parecia que eu estava carregando um peso de trezentos quilos nas pernas. Saindo da minha baia dei uma olhada de leve no meu colega ao lado e vi que ele estava com a ferramenta para gerenciamento de banco de dados aberta, e parecia estar conectado ao banco. Corri até ele e, como quem não quer nada, é claro rs, perguntei se ele tinha conseguido voltar a conectar, e para a minha surpresa a resposta foi sim!!! Sem pensar muito voltei voando para meu computador (que eu já tinha religado) e fui testar a conexão e estava tudo normal, consegui conectar normalmente, e logo já verifiquei os dados que eu sabia que seriam os mais recentes e estava tudo lá, tudo normal, não parecia ter acontecido nenhum problema, nenhuma limpeza, e ao olhar novamente no painel estava sendo exibida uma quantidade padrão de usuários conectados. via GIPHY Fiquei parado olhando para a tela do meu computador por pelo menos uns cinco minutos tentando entender o que aconteceu e então resolvi conversar com um outro colega que era mais velho de casa, onde falei que não estava conseguindo conectar no banco um pouco mais cedo e o painel estava mostrando zero usuários conectados, e perguntei se ele sabia o que tinha acontecido, onde ele disse: - Ah sim, ficou um tempinho fora mesmo, o prestador de serviços onde ficam nossos servidores anda tendo instabilidade, já aconteceram outras vezes, mas agora normalizou. Infelizmente eles raramente nos avisam dessas caídas repentinas. … Eu não sabia se ria ou se chorava com essa informação depois de todo o stress que passei, mas só o fato de ter a confirmação que o banco de dados de produção não foi apagado já foi o suficiente para eu ficar de ‘ressaca laboral’ no resto do dia, e comemorar o fato de não precisar procurar outro emprego rsrs, e assim se encerrou a maior coincidência que já aconteceu na minha vida profissional. Lições aprendidas Nesse causo só existiu uma lição aprendida, que é algo que eu já falei anteriormente nesse post aqui: Na dúvida, pergunte! Por mais que possa parecer incômodo, por mais que pareça ser algo simples e por mais que as consequências possam ser muito pequenas, se você está em dúvida sobre alguma coisa, vá e peça a informação, tire essa dúvida para ter a certeza de que você está fazendo a coisa certa e fique livre de suposições caso algo dê errado, que foi exatamente o que aconteceu comigo. Apesar de essa ter sido uma coincidência terrível, existem vários casos onde desenvolvemos ferramentas utilitárias para realizar manutenções em banco de dados, arquivos, serviços etc, que não são possíveis de se realizar manualmente, onde primeiro testamos em nossa máquina para depois alterar a configuração e apontar para o servidor de produção, e se algum desavisado executa esse utilitário sem obter informações precisas, pode acabar transformando a coincidência por qual eu passei em realidade, por isso sempre devemos buscar essa informações. Inclusive, para finalizar a história, após o ocorrido eu fui até um colega e perguntei como limpar essa base de dados local da aplicação e ele me mostrou que ela é composta somente por uma pasta contendo vários arquivos, e bastava apagá-la para limpar essa base. Se eu soubesse disso antes com certeza não teria quase infartado nesse dia. Até a próxima!" /><link rel="canonical" href="https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/" /><meta property="og:url" content="https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/" /><meta property="og:site_name" content="murilo.tech" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-24T12:00:00-03:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Causo - O dia que apaguei o banco de dados de produção" /><meta name="twitter:site" content="@muriloramosdc" /><meta name="twitter:creator" content="@Murilo Costa" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Sei que o título desse post está bem sensacionalista, mas para saber se o fato realmente aconteceu será preciso ler todo o post. Será mesmo que eu apaguei o banco de dados de produção? Esse causo aconteceu quando ingressei como novato em uma empresa e, por já ter um pouco mais de experiência, decidi que alguns cuidados não precisavam ser levados tão a sério, o que me causou uma situação que poderia ter levado a um infarto pessoas um pouco mais cardíacas que eu rs. Vamos ao causo! O causo Depois de conseguir uma boa experiência com desenvolvimento de software e T.I. em geral eu decidi embarcar em uma oportunidade que julguei melhor na época, e então entrei em uma nova empresa para encarar um novo desafio profissional. Nessa empresa o ambiente era mais ou menos parecido com o que eu já conhecia, com equipes que, de forma técnica, desenvolviam o software da empresa e o gerenciavam, incluindo o gerenciamento dos servidores de produção, então uma vez dentro da equipe já tínhamos acesso a todos ambientes incluindo o banco de dados de produção. Eu já vi muitas pessoas dizendo que não é saudável e nem deveria ser permitido aos desenvolvedores acessarem o ambiente produtivo, pois este deveria ser controlado especificamente por uma equipe de operações e isso até faz algum sentido, porém raramente foi realidade nos lugares que trabalhei, o que sempre trouxe muita flexibilidade e facilidade para resoluções de problemas que muitas vezes só acontecem em produção, mas traz também uma enorme responsabilidade de saber que suas ações nesse ambiente podem trazer consequências diretas para o usuário e clientes, entretanto, no geral eu sempre soube lidar bem com isso. Logo na minha primeira semana de trabalho na empresa nova, me pediram para resolver um bug que estava acontecendo em uma das partes do software, que no caso era uma aplicação desktop que baixava informações (incluindo arquivos) de um servidor a partir de uma API web backend feita em Java. Ao verificar o problema, rapidamente consegui identificar que o problema estava na API e efetuei a correção no código, partindo então para o teste da correção com o intuito de ver se aquela mudança realmente tinha corrigido o problema. Para realizar os testes infelizmente não existiam nenhum tipo de testes automatizados, como testes unitários ou de integração, e também nesse caso em específico era complicado utilizar ferramentas para chamadas em API como o glorioso Postman pois algumas das chamadas não eram no padrão REST, assim fui aconselhado por outros colegas de trabalho a utilizar a própria aplicação desktop (cliente) para realizar o teste, bastando tê-la em minha máquina e apontá-la para a URL da minha própria máquina (localhost). Segui esse conselho e fui efetuar o teste utilizando a aplicação desktop, o que era realmente mais fácil pois esta aplicação já estava presente em minha máquina (a máquina que me foi designada não foi formatada previamente). Porém, ao abrir a aplicação percebi que ela estava com um pouco de ‘sujeira’, que eram dados antigos presentes ali e que poderiam me atrapalhar nos testes, por isso resolvi que era melhor limpar os dados atuais antes de continuar, para garantir que nenhum dado antigo possa causar uma situação inesperada e que não tenha nenhuma relação com o teste que precisava ser feito. Essa aplicação possuía uma espécie de base de dados local contendo informações utilizadas pelo usuário e ela funcionava off-line, onde os dados eram sincronizados com o servidor justamente a partir do backend que eu precisava testar, e era essa base de dados local que eu precisava apagar para proceder com o meu teste, porém eu não sabia como fazer isso. Conforme mencionei no início desse causo, essa era minha primeira semana na empresa e eu ainda não conhecia muita gente ali, e como eu entrei lá com uma certa experiência de trabalho, achei incômodo pedir ajuda para alguém na tarefa de limpar essa base de dados local da aplicação (olha o meu erro aparecendo rsrs), por isso decidi descobrir sozinho como fazer isso, e logo achei algo que poderia me ajudar. Dentro da pasta de instalação dessa aplicação existiam vários arquivos executáveis que pareciam ser usados para manutenção da aplicação, e um deles se chamava CleanDatabase.exe e neste exato momento me pareceu que minha busca tinha terminado, pois com certeza esse era um utilitário que apagaria essa base de dados local, onde logo fui abrindo-o. Este utilitário era bem simples e composto somente de uma tela bem com um botão de Start e uma mensagem bem grande escrita em vermelho dizendo que essa operação iria apagar todos os dados do banco de dados, algo que eu já esperava. Apesar de me parecer extremamente claro que essa ferramenta utilitária iria apagar os dados locais da aplicação (e eu tenho certeza de que isso ficou claro também para quem está lendo), antes de clicar no botão Start me passou um lampejo de pensamento indagando o seguinte: Será que essa base de dados local é realmente um banco de dados, como um MySQL por exemplo? Ou será um SQLite? Ou será um sistema de arquivos simples mesmo? Se for um banco de dados real, será que existe a chance desse utilitário estar com sua configuração apontada para um banco de dados em outro local que não minha máquina? Como, por exemplo, apontado para o banco de dados de produção? Apesar de serem questionamentos válidos, esse pensamento logo sumiu da minha cabeça pois isso não fazia sentido algum, e dado o cenário que me era apresentado essa possibilidade não existia, então não havia perigo algum de executar esse utilitário, apesar da minha consciência ter achado melhor consultar alguém no momento (o que infelizmente não fiz), e então acionei o botão de Start. E aqui começou a situação que quase me causou um infarto. O software começou a executar a limpeza e, para variar, não tinha nenhuma barra de progresso ou algo do tipo indicando a execução, somente uma mensagem piscando de Wait. Apesar de eu não saber ao certo qual era o tamanho dessa base de dados local, eu imaginei que por ser uma base local ela com certeza não seria muito pesada, então essa limpeza duraria somente alguns segundos, quem sabe no máximo um minuto e meio, por isso não me preparei nem um pouco para contar quanto tempo havia decorrido desde que acionei o botão de Start (e o utilitário também não exibia o tempo decorrido), por isso fiquei somente aguardando o processo terminar. Mas ele não terminava… Por demorar mais que os segundos que eu esperava, resolvi monitorar o tempo a partir do relógio do computador e partir desse momento vi que a execução já tinha ultrapassado os cinco minutos, o que indicava que a quantidade de dados sendo apagada era grande, e novamente tive aquele lampejo de pensamento: Será que existe a chance de este utilitário estar apagando dados do banco de dados de produção e por isso estar demorando mais que o normal? Mas logo espantei esse pensamento da cabeça e continuei no aguardo. Passados mais três minutos comecei a ficar incomodado com essa demora e resolvi encerrar o utilitário, e para a surpresa de zero pessoas o utilitário travou (valeu Windows 7!!!), e resolvi aguardar mais um pouco para ver se ele destravava sozinho. Nessa exato momento dei uma respirada e olhei por cima da minha baia (tempo de trabalho presencial) e vi alguns rostos aflitos e com cara de interrogação, o que achei bem estranho, e comecei a perceber que o colega de trabalho na baia ao lado estava soltando vários ‘carambas’, e resolvi perguntar o que estava acontecendo, onde ele me respondeu que precisava conectar no banco de dados de produção para ver uma informação e não estava conseguindo, o banco parecia estar offline. É claro que meu corpo gelou por inteiro nesse momento, pois aquele lampejo de pensamento voltou como uma bala. Essa situação poderia ser alguma coisa específica da máquina dele e então resolvi fazer um teste na minha, onde para minha infelicidade o mesmo problema ocorreu, o banco de dados de produção realmente parecia não estar mais respondendo. via GIPHY O pensamento pairou como um elefante na minha cabeça: Meu Deus!!! Fiz uma merd* gigante!!!. Então olhei para os lados e tive a sensação que todos no escritório estavam com cara de desespero e vi alguns também tentando conexão com o banco de dados de produção, mas sem sucesso, onde eu fiquei mais desesperado ainda, e resolvi fechar o utilitário na força bruta com o famoso CTRL + ALT + DEL, mas mesmo assim eu não conseguia fechar, aumentando consideravelmente a palpitação no peito. Nesse momento, apesar de parecer uma situação impossível, eu já tinha quase certeza de que eu havia cometido o maior erro da minha vida, pois realmente eu estava apagando o banco de dados de produção. No meu pensamento provavelmente aquele utilitário era para outros fins que não a limpeza da base de dados local da aplicação, e com certeza alguém no passado deixou ele configurado para apagar o banco de dados de produção, e eu, sem analisar previamente, acabei executando-o. Mas, assim como você deve estar pensando, isso parecia ser uma situação muito absurda, com certeza era somente uma coincidência que estava acontecendo, e por algum motivo não estávamos conseguindo acessar o banco de produção, mas poderia ser somente um problema interno e aplicação estaria funcionando normalmente para os clientes na internet (era uma aplicação de uso nacional). E nesse momento me lembrei que existiam painéis digitais bem atrás da minha estação de trabalho com informações de saúde dos softwares da empresa, incluindo a quantidade de usuários conectados no momento, e se as informações ali estivessem normais isso indicaria que estávamos somente tendo um problema interno e o banco não estava passando por nenhum problema, e então ao virar e visualizar o painel eu realmente quase tive um infarto, pois a quantidade de usuários ativos estava bem baixa e caindo de dez em dez, o que significava algum problema mesmo no software, mais especificamente usuários desconectando por falta de dados no banco de dados. Agora eu já não sabia mais o que fazer, não conseguia pensar nem raciocinar, só consegui puxar da tomada meu computador na esperança de que a limpeza do banco de dados pudesse rodar em alguma espécie de transação, então se a transação não fosse finalizada talvez os dados não fossem apagados por definitivo. Porém eu sabia que isso não ia adiantar, pois era fato que eu realmente tinha cometido um erro enorme, o maior da minha vida, e agora não tinha mais volta. Fiquei tão desesperado que já comecei a pensar em como faria para arranjar outro emprego, visto que por conta desse erro provavelmente eu seria demitido por justa causa. Fiquei realmente sem chão. Mas como eu sou uma pessoa de princípios, eu não podia ver aquela situação toda ocorrendo e não fazer absolutamente nada, eu precisava avisar alguém sobre o ocorrido e ver quais eram os próximos passos para nos recuperarmos do problema, pois o banco de dados possuía backup diário, e então teríamos que restaurar esse backup e fazer tudo voltar ao normal (quase normal, pois os dados recentes seriam perdidos nesse caso). Decidi comunicar a situação ao meu superior e fiquei um tempo bolando um discurso do que falar, e esse tempo me pareceu uma eternidade, até que resolvi criar coragem para ir até a estação de trabalho dele. Então tomei um grande gole de água para acalmar, me levantei e comecei a sair da baia, onde a cada passo dado parecia que eu estava carregando um peso de trezentos quilos nas pernas. Saindo da minha baia dei uma olhada de leve no meu colega ao lado e vi que ele estava com a ferramenta para gerenciamento de banco de dados aberta, e parecia estar conectado ao banco. Corri até ele e, como quem não quer nada, é claro rs, perguntei se ele tinha conseguido voltar a conectar, e para a minha surpresa a resposta foi sim!!! Sem pensar muito voltei voando para meu computador (que eu já tinha religado) e fui testar a conexão e estava tudo normal, consegui conectar normalmente, e logo já verifiquei os dados que eu sabia que seriam os mais recentes e estava tudo lá, tudo normal, não parecia ter acontecido nenhum problema, nenhuma limpeza, e ao olhar novamente no painel estava sendo exibida uma quantidade padrão de usuários conectados. via GIPHY Fiquei parado olhando para a tela do meu computador por pelo menos uns cinco minutos tentando entender o que aconteceu e então resolvi conversar com um outro colega que era mais velho de casa, onde falei que não estava conseguindo conectar no banco um pouco mais cedo e o painel estava mostrando zero usuários conectados, e perguntei se ele sabia o que tinha acontecido, onde ele disse: - Ah sim, ficou um tempinho fora mesmo, o prestador de serviços onde ficam nossos servidores anda tendo instabilidade, já aconteceram outras vezes, mas agora normalizou. Infelizmente eles raramente nos avisam dessas caídas repentinas. … Eu não sabia se ria ou se chorava com essa informação depois de todo o stress que passei, mas só o fato de ter a confirmação que o banco de dados de produção não foi apagado já foi o suficiente para eu ficar de ‘ressaca laboral’ no resto do dia, e comemorar o fato de não precisar procurar outro emprego rsrs, e assim se encerrou a maior coincidência que já aconteceu na minha vida profissional. Lições aprendidas Nesse causo só existiu uma lição aprendida, que é algo que eu já falei anteriormente nesse post aqui: Na dúvida, pergunte! Por mais que possa parecer incômodo, por mais que pareça ser algo simples e por mais que as consequências possam ser muito pequenas, se você está em dúvida sobre alguma coisa, vá e peça a informação, tire essa dúvida para ter a certeza de que você está fazendo a coisa certa e fique livre de suposições caso algo dê errado, que foi exatamente o que aconteceu comigo. Apesar de essa ter sido uma coincidência terrível, existem vários casos onde desenvolvemos ferramentas utilitárias para realizar manutenções em banco de dados, arquivos, serviços etc, que não são possíveis de se realizar manualmente, onde primeiro testamos em nossa máquina para depois alterar a configuração e apontar para o servidor de produção, e se algum desavisado executa esse utilitário sem obter informações precisas, pode acabar transformando a coincidência por qual eu passei em realidade, por isso sempre devemos buscar essa informações. Inclusive, para finalizar a história, após o ocorrido eu fui até um colega e perguntei como limpar essa base de dados local da aplicação e ele me mostrou que ela é composta somente por uma pasta contendo vários arquivos, e bastava apagá-la para limpar essa base. Se eu soubesse disso antes com certeza não teria quase infartado nesse dia. Até a próxima!","@type":"BlogPosting","url":"https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/","headline":"Causo - O dia que apaguei o banco de dados de produção","datePublished":"2022-02-24T12:00:00-03:00","dateModified":"2022-02-24T12:00:00-03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/"},"author":{"@type":"Person","name":"Murilo Costa"},"@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/profile/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">murilo.tech</a></div><div class="site-subtitle font-italic">Posts sobre tecnologia, TI e desenvolvimento de software em geral.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIAS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARQUIVO</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/murilo-ramos" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/muriloramosdc" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:window.open('mailto:' + ['murilo','murilo.tech'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="https://www.linkedin.com/in/muriloramosduartecosta " target="_blank"> <i class="fab fa-linkedin"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Causo - O dia que apaguei o banco de dados de produção</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Buscar..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Causo - O dia que apaguei o banco de dados de produção</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 24, 2022, 12:00 PM -0300" > Feb 24 <i class="unloaded">2022-02-24T12:00:00-03:00</i> </span> by <span class="author"> Murilo Costa </span></div></div><div class="post-content"><p style="text-align: justify;">Sei que o título desse post está bem sensacionalista, mas para saber se o fato realmente aconteceu será preciso ler todo o post. Será mesmo que eu apaguei o banco de dados de produção?</p><p style="text-align: justify;">Esse causo aconteceu quando ingressei como novato em uma empresa e, por já ter um pouco mais de experiência, decidi que alguns cuidados não precisavam ser levados tão a sério, o que me causou uma situação que poderia ter levado a um infarto pessoas um pouco mais cardíacas que eu rs.</p><p style="text-align: justify;">Vamos ao causo!</p><h2 id="o-causo">O causo</h2><p style="text-align: justify;">Depois de conseguir uma boa experiência com desenvolvimento de software e T.I. em geral eu decidi embarcar em uma oportunidade que julguei melhor na época, e então entrei em uma nova empresa para encarar um novo desafio profissional.</p><p style="text-align: justify;">Nessa empresa o ambiente era mais ou menos parecido com o que eu já conhecia, com equipes que, de forma técnica, desenvolviam o software da empresa e o gerenciavam, incluindo o gerenciamento dos servidores de produção, então uma vez dentro da equipe já tínhamos acesso a todos ambientes incluindo o banco de dados de produção.</p><p style="text-align: justify;">Eu já vi muitas pessoas dizendo que não é saudável e nem deveria ser permitido aos desenvolvedores acessarem o ambiente produtivo, pois este deveria ser controlado especificamente por uma equipe de operações e isso até faz algum sentido, porém raramente foi realidade nos lugares que trabalhei, o que sempre trouxe muita flexibilidade e facilidade para resoluções de problemas que muitas vezes só acontecem em produção, mas traz também uma enorme responsabilidade de saber que suas ações nesse ambiente podem trazer consequências diretas para o usuário e clientes, entretanto, no geral eu sempre soube lidar bem com isso.</p><p style="text-align: justify;">Logo na minha primeira semana de trabalho na empresa nova, me pediram para resolver um bug que estava acontecendo em uma das partes do software, que no caso era uma <a href="https://xgen.com.br/blog/aplicacao-web-ou-desktop-qual-a-melhor-solucao" target="_blank">aplicação desktop</a> que baixava informações (incluindo arquivos) de um servidor a partir de uma <a href="https://pt.wikipedia.org/wiki/Interface_de_programa%C3%A7%C3%A3o_de_aplica%C3%A7%C3%B5es" target="_blank">API web</a> backend feita em Java. Ao verificar o problema, rapidamente consegui identificar que o problema estava na API e efetuei a correção no código, partindo então para o teste da correção com o intuito de ver se aquela mudança realmente tinha corrigido o problema.</p><p style="text-align: justify;">Para realizar os testes infelizmente não existiam nenhum tipo de testes automatizados, como testes unitários ou de integração, e também nesse caso em específico era complicado utilizar ferramentas para chamadas em API como o glorioso <a href="https://www.postman.com/" target="_blank">Postman</a> pois algumas das chamadas não eram no padrão <a href="https://pt.wikipedia.org/wiki/REST" target="_blank">REST</a>, assim fui aconselhado por outros colegas de trabalho a utilizar a própria aplicação desktop (cliente) para realizar o teste, bastando tê-la em minha máquina e apontá-la para a URL da minha própria máquina (<a href="https://www.hostinger.com.br/tutoriais/o-que-e-localhost" target="_blank">localhost</a>).</p><p style="text-align: justify;">Segui esse conselho e fui efetuar o teste utilizando a aplicação desktop, o que era realmente mais fácil pois esta aplicação já estava presente em minha máquina (a máquina que me foi designada não foi formatada previamente). Porém, ao abrir a aplicação percebi que ela estava com um pouco de ‘sujeira’, que eram dados antigos presentes ali e que poderiam me atrapalhar nos testes, por isso resolvi que era melhor limpar os dados atuais antes de continuar, para garantir que nenhum dado antigo possa causar uma situação inesperada e que não tenha nenhuma relação com o teste que precisava ser feito.</p><p style="text-align: justify;">Essa aplicação possuía uma espécie de base de dados local contendo informações utilizadas pelo usuário e ela funcionava off-line, onde os dados eram sincronizados com o servidor justamente a partir do backend que eu precisava testar, e era essa base de dados local que eu precisava apagar para proceder com o meu teste, porém eu não sabia como fazer isso.</p><p style="text-align: justify;">Conforme mencionei no início desse causo, essa era minha primeira semana na empresa e eu ainda não conhecia muita gente ali, e como eu entrei lá com uma certa experiência de trabalho, achei incômodo pedir ajuda para alguém na tarefa de limpar essa base de dados local da aplicação (olha o meu erro aparecendo rsrs), por isso decidi descobrir sozinho como fazer isso, e logo achei algo que poderia me ajudar.</p><p style="text-align: justify;">Dentro da pasta de instalação dessa aplicação existiam vários arquivos executáveis que pareciam ser usados para manutenção da aplicação, e um deles se chamava <code class="language-plaintext highlighter-rouge">CleanDatabase.exe</code> e neste exato momento me pareceu que minha busca tinha terminado, pois com certeza esse era um utilitário que apagaria essa base de dados local, onde logo fui abrindo-o. Este utilitário era bem simples e composto somente de uma tela bem com um botão de <code class="language-plaintext highlighter-rouge">Start</code> e uma mensagem bem grande escrita em vermelho dizendo que essa operação iria apagar todos os dados do banco de dados, algo que eu já esperava.</p><p style="text-align: justify;">Apesar de me parecer extremamente claro que essa ferramenta utilitária iria apagar os dados locais da aplicação (e eu tenho certeza de que isso ficou claro também para quem está lendo), antes de clicar no botão <code class="language-plaintext highlighter-rouge">Start</code> me passou um lampejo de pensamento indagando o seguinte:</p><p style="text-align: justify;"><em>Será que essa base de dados local é realmente um banco de dados, como um <a href="https://pt.wikipedia.org/wiki/MySQL" target="_blank">MySQL</a> por exemplo? Ou será um <a href="https://pt.wikipedia.org/wiki/SQLite" target="_blank">SQLite</a>? Ou será um sistema de arquivos simples mesmo? Se for um banco de dados real, será que existe a chance desse utilitário estar com sua configuração apontada para um banco de dados em outro local que não minha máquina? Como, por exemplo, apontado para o banco de dados de produção?</em></p><p style="text-align: justify;">Apesar de serem questionamentos válidos, esse pensamento logo sumiu da minha cabeça pois isso não fazia sentido algum, e dado o cenário que me era apresentado essa possibilidade não existia, então não havia perigo algum de executar esse utilitário, apesar da minha consciência ter achado melhor consultar alguém no momento (o que infelizmente não fiz), e então acionei o botão de <code class="language-plaintext highlighter-rouge">Start</code>.</p><p style="text-align: justify;">E aqui começou a situação que quase me causou um infarto.</p><p style="text-align: justify;">O software começou a executar a limpeza e, para variar, não tinha nenhuma barra de progresso ou algo do tipo indicando a execução, somente uma mensagem piscando de <code class="language-plaintext highlighter-rouge">Wait</code>. Apesar de eu não saber ao certo qual era o tamanho dessa base de dados local, eu imaginei que por ser uma base local ela com certeza não seria muito pesada, então essa limpeza duraria somente alguns segundos, quem sabe no máximo um minuto e meio, por isso não me preparei nem um pouco para contar quanto tempo havia decorrido desde que acionei o botão de <code class="language-plaintext highlighter-rouge">Start</code> (e o utilitário também não exibia o tempo decorrido), por isso fiquei somente aguardando o processo terminar.</p><p style="text-align: justify;">Mas ele não terminava…</p><p style="text-align: justify;">Por demorar mais que os segundos que eu esperava, resolvi monitorar o tempo a partir do relógio do computador e partir desse momento vi que a execução já tinha ultrapassado os cinco minutos, o que indicava que a quantidade de dados sendo apagada era grande, e novamente tive aquele lampejo de pensamento: <em>Será que existe a chance de este utilitário estar apagando dados do banco de dados de produção e por isso estar demorando mais que o normal?</em> Mas logo espantei esse pensamento da cabeça e continuei no aguardo.</p><p style="text-align: justify;">Passados mais três minutos comecei a ficar incomodado com essa demora e resolvi encerrar o utilitário, e para a surpresa de zero pessoas o utilitário travou (valeu Windows 7!!!), e resolvi aguardar mais um pouco para ver se ele destravava sozinho.</p><p style="text-align: justify;">Nessa exato momento dei uma respirada e olhei por cima da minha <a href="https://blog.marelli.com.br/pt/baias-para-escritorio" target="_blank">baia</a> (tempo de trabalho presencial) e vi alguns rostos aflitos e com cara de interrogação, o que achei bem estranho, e comecei a perceber que o colega de trabalho na baia ao lado estava soltando vários ‘carambas’, e resolvi perguntar o que estava acontecendo, onde ele me respondeu que precisava conectar no banco de dados de produção para ver uma informação e não estava conseguindo, o banco parecia estar offline.</p><p style="text-align: justify;">É claro que meu corpo gelou por inteiro nesse momento, pois aquele lampejo de pensamento voltou como uma bala.</p><p style="text-align: justify;">Essa situação poderia ser alguma coisa específica da máquina dele e então resolvi fazer um teste na minha, onde para minha infelicidade o mesmo problema ocorreu, o banco de dados de produção realmente parecia não estar mais respondendo.</p><center><iframe src="https://giphy.com/embed/3ohhwF34cGDoFFhRfy" width="480" height="480" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe><p><a href="https://giphy.com/gifs/hulu-scared-3ohhwF34cGDoFFhRfy">via GIPHY</a></p></center><p style="text-align: justify;">O pensamento pairou como um elefante na minha cabeça: <em>Meu Deus!!! Fiz uma merd* gigante!!!</em>.</p><p style="text-align: justify;">Então olhei para os lados e tive a sensação que todos no escritório estavam com cara de desespero e vi alguns também tentando conexão com o banco de dados de produção, mas sem sucesso, onde eu fiquei mais desesperado ainda, e resolvi fechar o utilitário na força bruta com o famoso <a href="https://pt.wikipedia.org/wiki/Ctrl%2BAlt%2BDel" target="_blank">CTRL + ALT + DEL</a>, mas mesmo assim eu não conseguia fechar, aumentando consideravelmente a palpitação no peito.</p><p style="text-align: justify;">Nesse momento, apesar de parecer uma situação impossível, eu já tinha quase certeza de que eu havia cometido o maior erro da minha vida, pois realmente eu estava apagando o banco de dados de produção. No meu pensamento provavelmente aquele utilitário era para outros fins que não a limpeza da base de dados local da aplicação, e com certeza alguém no passado deixou ele configurado para apagar o banco de dados de produção, e eu, sem analisar previamente, acabei executando-o.</p><p style="text-align: justify;">Mas, assim como você deve estar pensando, isso parecia ser uma situação muito absurda, com certeza era somente uma coincidência que estava acontecendo, e por algum motivo não estávamos conseguindo acessar o banco de produção, mas poderia ser somente um problema interno e aplicação estaria funcionando normalmente para os clientes na internet (era uma aplicação de uso nacional).</p><p style="text-align: justify;">E nesse momento me lembrei que existiam painéis digitais bem atrás da minha estação de trabalho com informações de saúde dos softwares da empresa, incluindo a quantidade de usuários conectados no momento, e se as informações ali estivessem normais isso indicaria que estávamos somente tendo um problema interno e o banco não estava passando por nenhum problema, e então ao virar e visualizar o painel eu realmente quase tive um infarto, pois a quantidade de usuários ativos estava bem baixa e caindo de dez em dez, o que significava algum problema mesmo no software, mais especificamente usuários desconectando por falta de dados no banco de dados.</p><p style="text-align: justify;">Agora eu já não sabia mais o que fazer, não conseguia pensar nem raciocinar, só consegui puxar da tomada meu computador na esperança de que a limpeza do banco de dados pudesse rodar em alguma espécie de transação, então se a transação não fosse finalizada talvez os dados não fossem apagados por definitivo.</p><p style="text-align: justify;">Porém eu sabia que isso não ia adiantar, pois era fato que eu realmente tinha cometido um erro enorme, o maior da minha vida, e agora não tinha mais volta. Fiquei tão desesperado que já comecei a pensar em como faria para arranjar outro emprego, visto que por conta desse erro provavelmente eu seria demitido por justa causa. Fiquei realmente sem chão.</p><p style="text-align: justify;">Mas como eu sou uma pessoa de princípios, eu não podia ver aquela situação toda ocorrendo e não fazer absolutamente nada, eu precisava avisar alguém sobre o ocorrido e ver quais eram os próximos passos para nos recuperarmos do problema, pois o banco de dados possuía backup diário, e então teríamos que restaurar esse backup e fazer tudo voltar ao normal (quase normal, pois os dados recentes seriam perdidos nesse caso).</p><p style="text-align: justify;">Decidi comunicar a situação ao meu superior e fiquei um tempo bolando um discurso do que falar, e esse tempo me pareceu uma eternidade, até que resolvi criar coragem para ir até a estação de trabalho dele. Então tomei um grande gole de água para acalmar, me levantei e comecei a sair da baia, onde a cada passo dado parecia que eu estava carregando um peso de trezentos quilos nas pernas.</p><p style="text-align: justify;">Saindo da minha baia dei uma olhada de leve no meu colega ao lado e vi que ele estava com a ferramenta para gerenciamento de banco de dados aberta, e parecia estar conectado ao banco. Corri até ele e, como quem não quer nada, é claro rs, perguntei se ele tinha conseguido voltar a conectar, e para a minha surpresa a resposta foi sim!!!</p><p style="text-align: justify;">Sem pensar muito voltei voando para meu computador (que eu já tinha religado) e fui testar a conexão e estava tudo normal, consegui conectar normalmente, e logo já verifiquei os dados que eu sabia que seriam os mais recentes e estava tudo lá, tudo normal, não parecia ter acontecido nenhum problema, nenhuma limpeza, e ao olhar novamente no painel estava sendo exibida uma quantidade padrão de usuários conectados.</p><center><iframe src="https://giphy.com/embed/j6aoUHK5YiJEc" width="480" height="466" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe><p><a href="https://giphy.com/gifs/mrw-friday-rei-j6aoUHK5YiJEc">via GIPHY</a></p></center><p style="text-align: justify;">Fiquei parado olhando para a tela do meu computador por pelo menos uns cinco minutos tentando entender o que aconteceu e então resolvi conversar com um outro colega que era mais velho de casa, onde falei que não estava conseguindo conectar no banco um pouco mais cedo e o painel estava mostrando zero usuários conectados, e perguntei se ele sabia o que tinha acontecido, onde ele disse:</p><p style="text-align: justify;"><em>- Ah sim, ficou um tempinho fora mesmo, o prestador de serviços onde ficam nossos servidores anda tendo instabilidade, já aconteceram outras vezes, mas agora normalizou. Infelizmente eles raramente nos avisam dessas caídas repentinas.</em></p><p>…</p><p style="text-align: justify;">Eu não sabia se ria ou se chorava com essa informação depois de todo o stress que passei, mas só o fato de ter a confirmação que o banco de dados de produção não foi apagado já foi o suficiente para eu ficar de ‘ressaca laboral’ no resto do dia, e comemorar o fato de não precisar procurar outro emprego rsrs, e assim se encerrou a maior coincidência que já aconteceu na minha vida profissional.</p><h2 id="lições-aprendidas">Lições aprendidas</h2><p style="text-align: justify;">Nesse causo só existiu uma lição aprendida, que é algo que eu já falei anteriormente nesse post <a href="https://murilo.tech/posts/peca-ajuda-ofereca-ajuda-nao-seja-bobo/" target="_blank">aqui</a>:</p><h3 id="na-dúvida-pergunte">Na dúvida, pergunte!</h3><p style="text-align: justify;">Por mais que possa parecer incômodo, por mais que pareça ser algo simples e por mais que as consequências possam ser muito pequenas, se você está em dúvida sobre alguma coisa, vá e peça a informação, tire essa dúvida para ter a certeza de que você está fazendo a coisa certa e fique livre de suposições caso algo dê errado, que foi exatamente o que aconteceu comigo.</p><p style="text-align: justify;">Apesar de essa ter sido uma coincidência terrível, existem vários casos onde desenvolvemos ferramentas utilitárias para realizar manutenções em banco de dados, arquivos, serviços etc, que não são possíveis de se realizar manualmente, onde primeiro testamos em nossa máquina para depois alterar a configuração e apontar para o servidor de produção, e se algum desavisado executa esse utilitário sem obter informações precisas, pode acabar transformando a coincidência por qual eu passei em realidade, por isso sempre devemos buscar essa informações.</p><p style="text-align: justify;">Inclusive, para finalizar a história, após o ocorrido eu fui até um colega e perguntei como limpar essa base de dados local da aplicação e ele me mostrou que ela é composta somente por uma pasta contendo vários arquivos, e bastava apagá-la para limpar essa base.</p><p style="text-align: justify;">Se eu soubesse disso antes com certeza não teria quase infartado nesse dia.</p><p style="text-align: justify;">Até a próxima!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/causo/'>Causo</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/causo/" class="post-tag no-text-decoration" >causo</a> <a href="/tags/historia/" class="post-tag no-text-decoration" >historia</a> <a href="/tags/relato/" class="post-tag no-text-decoration" >relato</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/producao/" class="post-tag no-text-decoration" >producao</a> <a href="/tags/banco-de-dados/" class="post-tag no-text-decoration" >banco-de-dados</a> <a href="/tags/desktop/" class="post-tag no-text-decoration" >desktop</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Este post está licenciado sob a <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> pelo autor.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartilhar</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Causo - O dia que apaguei o banco de dados de produção - murilo.tech&url=https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Causo - O dia que apaguei o banco de dados de produção - murilo.tech&u=https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Causo - O dia que apaguei o banco de dados de produção - murilo.tech&url=https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Atualizações Recentes</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/criptografia/">Criptografia</a></li><li><a href="/posts/testes-unitarios-com-spring-usando-mock/">Testes unitários com Spring Framework usando mock</a></li><li><a href="/posts/estrategias-para-testes-unitarios/">Estratégias para testes unitários</a></li><li><a href="/posts/refatorando-e-alcancando-codigo-limpo/">Refatorando e alcançando um código limpo</a></li><li><a href="/posts/ferramentas-para-o-ambiente-de-desenvolvimento/">Ferramentas para o ambiente de desenvolvimento</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>Tags Populares</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/programacao/">programacao</a> <a class="post-tag" href="/tags/murilo-tech/">murilo tech</a> <a class="post-tag" href="/tags/murilo/">murilo</a> <a class="post-tag" href="/tags/historia/">historia</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/software/">software</a> <a class="post-tag" href="/tags/relato/">relato</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/maven/">maven</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Conteúdo</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Para Ler Depois</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/causo-minha-primeira-parada-em-producao/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Oct 25, 2021 <i class="unloaded">2021-10-25T08:00:00-03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Causo - A minha primeira parada em produção</h3><div class="text-muted small"><p> Hoje estou inaugurando uma seção nesse blog para contar e relatar histórias que vivi atuando como um profissional na área de desenvolvimento de software, ou como gosto de chamar: Os famosos causos!...</p></div></div></a></div><div class="card"> <a href="/posts/coisas-que-aprendi-estudando-certificacao-java/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > May 4, 2021 <i class="unloaded">2021-05-04T17:30:00-03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Coisas que aprendi estudando para a certificação Java</h3><div class="text-muted small"><p> Como alguns viram, no último mês de abril foi aniversário da linguagem de programação Java, a linguagem que mais venho utilizando desde meu início de carreira, que está completando 25 anos de idade...</p></div></div></a></div><div class="card"> <a href="/posts/testando-envio-emails-com-fakesmtp/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Dec 7, 2021 <i class="unloaded">2021-12-07T17:20:00-03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Testando envio de e-mails com Fake SMTP</h3><div class="text-muted small"><p> Como eu já mencionei anteriormente em alguns posts, a maioria dos softwares que desenvolvemos sempre possui algum tipo de dependência de outros serviços e mecanismos, onde precisamos realizar integ...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/concatenacao-de-strings-e-performance/" class="btn btn-outline-primary"><p>Concatenação de strings e performance</p></a> <a href="/posts/internet-explorer-modo-compatibilidade-bug-estranho/" class="btn btn-outline-primary"><p>Internet Explorer, modo de compatibilidade e um bug estranho</p></a></div><!-- The Disqus lazy loading. Powered by: https://osvaldas.info/lazy-loading-disqus-comments v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT License --><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//murilo-tech.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://murilo.tech/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/'; this.page.identifier = '/posts/causo-o-dia-que-apaguei-o-banco-de-dados-de-producao/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/muriloramosdc">Murilo Costa</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Alguns direitos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a> theme.</p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Tags Populares</h4><a class="post-tag" href="/tags/programacao/">programacao</a> <a class="post-tag" href="/tags/murilo-tech/">murilo tech</a> <a class="post-tag" href="/tags/murilo/">murilo</a> <a class="post-tag" href="/tags/historia/">historia</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/software/">software</a> <a class="post-tag" href="/tags/relato/">relato</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/maven/">maven</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-54279404-2', 'auto'); ga('send', 'pageview'); </script> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://murilo.tech{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
